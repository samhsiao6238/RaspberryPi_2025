# 運作 OpenVPN  客戶端

_D-Link DIR-890L 官方不支援 OpenVPN 客戶端模式，因此無法直接在路由器上匯入 `.ovpn` 文件並作為 VPN 客戶端連線到外地 VPN 伺服器。_

## 更換韌體為 DD-WRT

1. D-Link DIR-890L 支援第三方 DD-WRT 韌體，這可讓路由器具備 OpenVPN 客戶端功能，並允許匯入 `.ovpn` 文件。

2. 在官方 [下載頁面](https://dd-wrt.com/support/router-database/) 搜尋 `D-Link DIR-890L` 並下載 `factory-to-ddwrt.bin`

3. 進入 D-Link 原生韌體預設管理 IP `http://192.168.0.1` 韌體更新。

4. 設定 OpenVPN 客戶端：
- 登入 DD-WRT（通常是 `http://192.168.1.1`）
- 前往 `Services` → `VPN`
- 啟用 `OpenVPN Client`
- 匯入 `.ovpn` 設定：
  - `Server IP/Name`：VPN 伺服器地址
  - `Port`：VPN 伺服器端口
  - `Username/Password`（若需要）
  - 上傳 `.ovpn` 中的 `CA Cert`、`TLS Key`
  - `Save` & `Apply Settings`

這樣路由器就可以作為 VPN 客戶端連線至中國大陸的 VPN 伺服器，所有連接設備都能透過 VPN 連線。



### 方法 2：透過 OpenVPN 設定 VPN 客戶端（未 Root）
若不想更換韌體，可以使用一台支援 OpenVPN 的電腦作為 VPN 閘道，讓 D-Link 路由器作為普通 AP：

1. 在電腦上運行 OpenVPN 客戶端
   - 安裝 OpenVPN：[https://openvpn.net/community-downloads/](https://openvpn.net/community-downloads/)
   - 將 `.ovpn` 配置文件放入 `C:\Program Files\OpenVPN\config\`
   - 右鍵 OpenVPN GUI → 以管理員身份執行
   - 連接 VPN

2. 設定 D-Link 路由器使用 VPN 閘道
   - 進入 `http://192.168.0.1`
   - `網際網路設定` → `網路連線類型`
   - 選擇 `靜態 IP`
   - `IP Address` 設定為 VPN 伺服器指派的 IP（可透過 `ipconfig` 查詢）
   - `Gateway` 設定為 VPN 伺服器的 IP
   - 儲存設定

這樣路由器的所有設備都會透過 VPN 伺服器上網，但 電腦必須保持 VPN 連線狀態。



### 方法 3：透過樹莓派（或 Linux 伺服器）作為 VPN 閘道
若不想更換 DD-WRT，且不希望 VPN 依賴電腦運行，可以使用 Raspberry Pi + OpenVPN 來讓 D-Link 路由器透過 VPN 連線：

1. 在樹莓派（或 Linux 伺服器）上安裝 OpenVPN
   ```bash
   sudo apt update
   sudo apt install openvpn -y
   sudo cp ~/your-config.ovpn /etc/openvpn/client.conf
   sudo systemctl enable openvpn@client
   sudo systemctl start openvpn@client
   ```

2. 設定 D-Link 使用樹莓派的 VPN
   - 進入 D-Link `網際網路設定`
   - `網路連線類型` → `靜態 IP`
   - `IP Address` 設為樹莓派的 VPN IP
   - `Gateway` 設為樹莓派的 IP
   - `DNS` 設定為 VPN 伺服器提供的 DNS

這樣 D-Link 路由器內的所有設備就會透過 VPN 連線。



### 方法 4：購買支援 OpenVPN 客戶端的路由器
如果你不想刷 DD-WRT 或用額外的設備，可以考慮購買支援 OpenVPN 客戶端的路由器，例如：
- ASUS RT-AX86U
- GL.iNet Beryl (GL-MT1300)
- Netgear Nighthawk RAX120

這些路由器的管理介面都可以直接匯入 `.ovpn` 檔案來作為 OpenVPN 客戶端。



### 結論：
- 推薦使用 DD-WRT（方法 1），因為這樣你可以在路由器上直接運行 OpenVPN 客戶端。
- 如果不想刷機，可以考慮 方法 2（用電腦）、方法 3（用樹莓派） 來讓 D-Link 使用 VPN。
- 方法 4（換新路由器） 適合想要更穩定解決方案的用戶。

你目前的環境比較適合哪種方式？如果你願意刷 DD-WRT，我可以提供更詳細的刷機和 OpenVPN 設定步驟。