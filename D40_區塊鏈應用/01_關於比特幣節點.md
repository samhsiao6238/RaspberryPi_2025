# 選用比特幣

_比特幣適合用來學習節點、交易與區塊鏈同步等基礎觀念，且運行硬體需求更低，因此更適合在樹莓派這類資源受限裝置上實作_

<br>

## 主要原因

<br>

1. 簡單性與穩定性：比特幣協議相對簡單，不涉及智能合約，適合教學或基礎區塊鏈節點實作。

<br>

2. 節點硬體門檻較低：Bitcoin Core 支援「Pruned Node」，僅需約 550MB 磁碟空間即可運行，適合樹莓派；而以太坊 Geth 節點同步需數百 GB 或更多。

<br>

3. 教學文件與支援多：比特幣社群成熟，文件與資源齊全，更容易在 Raspberry Pi 上找到對應指引。

<br>

4. 不需執行虛擬機（EVM）：Ethereum 節點需跑 EVM，佔用 CPU 與記憶體較多，對樹莓派不利。

<br>

5. 安全性與歷史價值：比特幣作為最早、最廣泛採用的區塊鏈系統，具有高度穩定性與參考價值。

<br>

## 比特幣節點常見模式

1. Full Node 模式：保留整條區塊鏈，需大量儲存空間，建議保留 500GB 以上。

2. Prune 模式：僅保留部分區塊資料，可自訂如最近 550MB，節省空間。

3. SPV 模式，簡化驗證，僅限特定錢包軟體，如 `Electrum`：只驗證區塊頭，不需全鏈資料。

4. Lightweight client：像是 `Electrum` 或 `mobile wallet`，依賴遠端 `full node`，不儲存本地區塊鏈。

<br>

## 輕節點用途

_最小成本參與比特幣生態系統_

<br>

1. 學習區塊鏈底層運作。

2. 自主掌控交易與驗證。

3. 測試應用或自動化腳本。

4. 未來延伸成主網節點或 Lightning 節點的基礎。

<br>

## 關於同步

_`同步` 是將 `Bitcoin 節點` 與 `整個 Bitcoin 區塊鏈網路` 對齊，也就是下載並驗證所有歷史區 `塊頭` 與 `區塊` 資料，使本機節點達到與其他節點相同的最新狀態。_

1. block headers：下載區塊頭，先取得區塊的基本資訊（如高度、時間戳、雜湊值）。

2. blocks：下載實際區塊，包含交易資料，視是否為完整節點或輕節點而有所不同。

3. 驗證區塊：檢查每筆交易是否合法，例如簽章、UTXO、PoW 難度。

4. 建立區塊鏈狀態：建立與維護 UTXO 集合，確保錢包與交易正確運作。

5. 當節點同步完成，代表它已具備完整的鏈上資訊，就能查詢正確的交易與餘額、發送合法的交易、與其他節點互相轉發區塊與交易。

<br>

## 硬體加速

_注意，Testnet 的 P2P 埠號是 18333，RPC 埠號為 18332，可在防火牆或路由器開啟它們來加速同步。在路由器設定中將以下埠口轉發至樹莓派的內部 IP 位址。_

<br>

1. P2P `18333`：讓其他節點能連進來與您同步區塊，提高互連效率。

2. RPC `18332`：僅在需要遠端控制節點時開啟，一般可關閉以增安全性。

    ```bash
    TCP 18333 → 192.168.1.123:18333
    TCP 18332 → 192.168.1.123:18332（可選）
    ```

<br>

## 補充

_可實作以太坊在 Raspberry Pi 上運行，用以建立以太坊節點、智能合約或 Web3 應用_

<br>

___

_END_