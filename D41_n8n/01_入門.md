# n8n

## 簡介

1. n8n 是一個開源的自動化工作流平台，可用視覺化的拖拉介面串接各種服務如 Email、Slack、Google Sheets、HTTP API、資料庫、AI 服務等，並自動化資料流與任務，例如自動下載郵件附件、同步表單資料、監控網頁更新、串接 ChatGPT 等。

2. 無需寫程式碼即可自動化多種服務，也支援自訂腳本 Node.js、Webhooks、排程等進階功能。

## 在樹莓派運行 n8n

_n8n 基於 Node.js，輕量且跨平台，非常適合在樹莓派上自架與應用。_

1. 安裝 nvm

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
source ~/.bashrc
nvm install --lts
nvm use --lts
```

2. 安裝 Node.js 20

    ```bash
    nvm install 20
    nvm use 20
    ```

3. 檢查版本，n8n 必須安裝 Node.js 20+。

```bash
node -v
```

## 使用 SSD

_若要提升效能，可使用 SSD；這裡示範使用 SSD，並把 npm 的全域資料夾指到 SSD；若無該硬體設備則略過_

1. 建立。

```bash
sudo mkdir -p /mnt/ssd/npm-global
npm config set prefix /mnt/ssd/npm-global
export PATH=/mnt/ssd/npm-global/bin:$PATH
```

2. 確認 /mnt/ssd/npm-global 目錄擁有你的帳號寫入權限

```bash
sudo chown -R $USER:$USER /mnt/ssd/npm-global
```

3. 設定 npm 全域安裝路徑

```bash
npm config set prefix /mnt/ssd/npm-global
```

4. 將 npm-global/bin 加入 PATH

```bash
export PATH=/mnt/ssd/npm-global/bin:$PATH
```

5. 每次登入自動生效

```bash
echo 'export PATH=/mnt/ssd/npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc
```

## 安裝 n8n

1. 安裝 

    ```bash
    npm install n8n -g
    ```

## 啟動服務

1. 啟動 n8n

```bash
n8n
```

2. 訪問 [http://樹莓派IP:5678/](http://樹莓派IP:5678/)。

    ```bash
    n8n
    ```
