# 套件管理指令

_以下介紹幾種套件管理工具，但實務上建議仍以 `apt` 為主_

<br>

## 說明

1. `apt`：推薦用於日常套件管理

<br>

2. `dpkg`：適用於安裝 `.deb` 檔案（手動下載安裝）

<br>

3. `snap`：適用於需要沙箱隔離、自動更新的應用程式（如 `chromium`, `code`）

<br>

## `apt`

_這裡可不用實作，待 `安裝與更新` 一節再進行操作_

<br>

1. `apt`：Debian 套件管理器的指令，用於安裝、更新、移除套件。

    ```bash
    # 安裝套件
    sudo apt install <套件名稱>
    ```

<br>

2. `apt update`：更新套件清單，這不會實際升級套件，只是同步索引。

    ```bash
    sudo apt update
    ```

<br>

3. `apt upgrade`：根據套件清單升級所有已安裝的套件至最新版本。

    ```bash
    sudo apt upgrade
    ```

<br>

4. `apt full-upgrade`：升級所有套件，並允許移除過時或衝突的套件，這比 `upgrade` 更強力。

    ```bash
    sudo apt full-upgrade
    ```

<br>

5. `apt remove`：移除指定套件，保留設定檔。

    ```bash
    sudo apt remove <套件名稱>
    ```

<br>

6. `apt purge`：移除指定套件及其設定檔。

    ```bash
    sudo apt purge <套件名稱>
    ```

<br>

7. `apt autoremove`：移除不再使用的自動安裝套件，例如相依套件。

    ```bash
    sudo apt autoremove
    ```

<br>

8. `apt search`：搜尋可用的套件。

    ```bash
    apt search <關鍵字>
    ```

<br>

9. `apt show`：顯示套件詳細資訊，包含版本、描述、依賴等。

    ```bash
    apt show <套件名稱>
    ```

## `dpkg`

_Debian 的底層套件安裝工具，主要用於 `.deb` 檔案的管理_

<br>

1. 安裝本地 .deb 套件檔。

    ```bash
    sudo dpkg -i <套件檔案>.deb
    ```

<br>

2. 修復依賴關係問題，通常搭配 dpkg 安裝後使用。

    ```bash
    sudo apt -f install
    ```

<br>

3. 移除已安裝套件，保留設定檔。

    ```bash
    sudo dpkg -r <套件名稱>
    ```

<br>

4. 查詢已安裝套件。

    ```bash
    dpkg -l | grep <套件名稱>
    ```

<br>

5. 顯示某套件的安裝路徑與檔案資訊。

    ```bash
    dpkg -L <套件名稱>
    ```

<br>

6. 查詢檔案來自哪個套件。

    ```bash
    dpkg -S <檔案路徑>
    ```

## `snap`

_Ubuntu 開發的應用打包與部署系統，支援自動更新與沙箱運行。_

<br>

1. 安裝 snap 套件。

    ```bash
    sudo snap install <套件名稱>
    ```

<br>

2. 列出已安裝的 snap 套件。

    ```bash
    snap list
    ```

<br>

3. 更新所有已安裝的 snap 套件。

    ```bash
    sudo snap refresh
    ```

<br>

4. 移除 snap 套件。

    ```bash
    sudo snap remove <套件名稱>
    ```

<br>

5. 顯示指定 snap 套件的資訊。

    ```bash
    snap info <套件名稱>
    ```

<br>

## `flatpak` 

_`flatpak` 是跨發行版的應用程式打包與部署系統，支援沙箱隔離與圖形應用管理。_

<br>

1. 安裝 flatpak 本體。

    ```bash
    sudo apt install flatpak
    ```

<br>

2. 加入 Flathub，最常用的 flatpak 應用來源。

    ```bash
    sudo flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
    ```

<br>

3. 搜尋應用。

    ```bash
    flatpak search <關鍵字>
    ```

<br>

4. 安裝應用，建議指定來源。

    ```bash
    flatpak install flathub <應用程式 ID>
    ```

<br>

5. 啟動已安裝的 flatpak 應用。

    ```bash
    flatpak run <應用程式 ID>
    ```

<br>

6. 更新所有 flatpak 應用。

    ```bash
    flatpak update
    ```

<br>

7. 列出所有已安裝的 flatpak 應用。

    ```bash
    flatpak list
    ```

<br>

8. 移除已安裝的 flatpak 應用。

    ```bash
    flatpak uninstall <應用程式 ID>
    ```

<br>

___

_END_