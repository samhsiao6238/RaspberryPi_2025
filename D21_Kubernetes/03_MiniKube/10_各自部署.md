_尚未實作應用_

# 各自部署

_在 `本機` 上部署應用到 `Minikube`_

<br>

## 步驟

1. 設置環境變數 `KUBECONFIG`，指定 `kubectl` 使用特定的配置文件；以下直接進行持久化設定。

   ```bash
   echo "" >> ~/.zshrc
   echo "# K3s 測試" >> ~/.zshrc
   echo "export KUBECONFIG=~/.kube/config" >> ~/.zshrc
   source ~/.zshrc
   ```

<br>

2. 切換目前 `kubectl` 操作的叢集 `上下文` 到 `minikube`；在 `K8s` 中，`上下文` 是用來指定 `kubectl` 操作時應該連接到哪個 `叢集`、`使用者` 以及 `命名空間` 的設定組合。

   ```bash
   kubectl config use-context minikube
   ```

   ![](images/img_19.png)

<br>

3. 將腳本保存到一個文件（例如 `deployment.yaml`），然後部署應用。

   ```bash
   kubectl apply -f deployment.yaml
   ```

<br>

4. 確認部署。

   ```bash
   kubectl get deployments
   kubectl get services
   ```

<br>

## 在 MacOS 上部署應用到 K3s

1. 設置環境變數。

   ```bash
   export KUBECONFIG=~/.kube/config_k3s
   ```

<br>

2. 部署應用，可使用同樣的腳本文件。

   ```bash
   kubectl apply -f deployment.yaml
   ```

<br>

3. 確認部署。

   ```bash
   kubectl get deployments
   kubectl get services
   ```

<br>

___

_END_
