# Picovoice

_å»ºç«‹ç°¡æ˜“å°ˆæ¡ˆï¼›éœ€å…·å‚™éº¥å…‹é¢¨_

<br>

## è¨»å†Šå¸³è™Ÿ

1. å‰å¾€ [picovoice.ai å®˜ç¶²](https://console.picovoice.ai) è¨»å†Šæˆ–ç™»å…¥å¸³è™Ÿï¼›è©²æ­¥é©Ÿå¾ˆç°¡å–®ï¼Œä¸åšè´…è¿°ã€‚

<br>

2. ç”Ÿæˆä¸¦è¤‡è£½ `AccessKey`ã€‚

    ![](images/img_01.png)

<br>

## é–‹ç™¼ç’°å¢ƒ

1. æ›´æ–°ç³»çµ±èˆ‡å®‰è£å¿…è¦å·¥å…·ï¼›ä»¥ä¸‹å¥—ä»¶åœ¨å®˜æ–¹èªªæ˜ä¸­ä¸¦æœªæç¤ºå®‰è£ã€‚

    ```bash
    sudo apt update && sudo apt upgrade
    sudo apt install git portaudio19-dev espeak -y
    ```

<br>

2. å»ºç«‹è™›æ“¬ç’°å¢ƒä¸¦å•Ÿç”¨ï¼›ä»¥ä¸‹æŒ‡ä»¤å»ºç«‹çš„è™›æ“¬ç’°å¢ƒå‘½åç‚º `envPorcupine`ã€‚

    ```bash
    cd ~/Documents
    mkdir -p PythonVenvs
    cd PythonVenvs
    python -m venv envPorcupine
    echo "source $(pwd)/envPorcupine/bin/activate" >> ~/.bashrc
    source ~/.bashrc
    ```

<br>

3. å®‰è£ Porcupine å¥—ä»¶

    ```bash
    pip install pvporcupine pvrecorder
    ```

<br>

## å»ºç«‹å°ˆæ¡ˆ

_å–šé†’è©è§¸ç™¼èªéŸ³å›æ‡‰_

<br>

1. å»ºç«‹å°ˆæ¡ˆç›®éŒ„èˆ‡ä¸»ç¨‹å¼

    ```bash
    mkdir -p ~/exPicovoice
    cd ~/exPicovoice
    nano porcupine_wakeup.py
    ```

<br>

2. è²¼ä¸Šä»¥ä¸‹ç¨‹å¼ç¢¼ï¼Œä¸¦æ›¿æ›å…¶ä¸­çš„ `<ACCESS_KEY>`

    ```python
    import pvporcupine
    from pvrecorder import PvRecorder
    import os

    ACCESS_KEY = "<ACCESS_KEY>"

    def main():
        porcupine = pvporcupine.create(access_key=ACCESS_KEY, keywords=["porcupine"])
        recorder = PvRecorder(device_index=-1, frame_length=porcupine.frame_length)
        recorder.start()

        print("ğŸ”Š è†è½å–šé†’è© ... (è«‹èªª 'porcupine')")

        try:
            while True:
                pcm = recorder.read()
                result = porcupine.process(pcm)
                if result >= 0:
                    print("âœ… åµæ¸¬åˆ°å–šé†’è©")
                    os.system('espeak "Yes, I am here."')
        except KeyboardInterrupt:
            print("ğŸ›‘ ä½¿ç”¨è€…åœæ­¢")
        finally:
            recorder.stop()
            recorder.delete()
            porcupine.delete()

    if __name__ == "__main__":
        main()
    ```

<br>

3. åŸ·è¡Œè…³æœ¬ã€‚

    ```bash
    python porcupine_wakeup.py
    ```

<br>

4. å°è‘—éº¥å…‹é¢¨èªª `porcupine`ï¼Œæœƒè½åˆ°ç³»çµ±å›æ‡‰ã€‚

    ```bash
    Yes, I am here.
    ```

<br>

___

_END_